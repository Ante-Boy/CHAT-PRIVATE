html, body {
  margin:0;
  height:100%;
  background:black;
  font-family:'Fira Mono',monospace;
  overflow:hidden;
}

#matrixCanvas {
  position:fixed;
  top:0; left:0;
  width:100%; height:100%;
  z-index:0;
}

.chat-wrapper {
  min-height:100vh;
  width:100vw;
  display:flex;
  align-items:center;
  justify-content:center;
  position:relative;
  z-index:1;
  padding:10px;
}

/* Glassy login card */
.login-card {
  background: rgba(0,0,0,0.55);
  backdrop-filter: blur(12px);
  max-width: 380px;
  width: 94vw;
  padding: 24px;
  border-radius: 18px;
  box-shadow: 0 6px 28px rgba(0,255,255,0.25);
  margin:auto;
}
.login-card input {
  width:100%;
  margin-bottom:10px;
  padding:8px;
  border-radius:6px;
  border:none;
}
.login-card .btn {
  width:100%;
  margin-top:5px;
}

/* Neon tagline */
.tagline {
  font-size: 1rem;
  font-weight: bold;
  background: linear-gradient(90deg, #00fff2, #f0f, #ff0, #0f0);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow: 0 0 10px rgba(0,255,255,0.5), 0 0 10px rgba(255,0,255,0.5);
}

/* Chat container */
.chat-glass {
  display:flex;
  flex-direction:column;
  width:98vw;
  max-width:1100px;
  height:92vh;
  background:rgba(255,255,255,0.14);
  border-radius:18px;
  backdrop-filter:blur(20px) saturate(1.25);
  overflow:hidden;
  z-index:1;
}

/* Header */
.chat-header {
  padding:14px 16px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  border-bottom:1px solid rgba(255,255,255,0.2);
  background:rgba(0,0,0,0.4);
}
.crazy-logo { display:flex; align-items:center; }
.crazy-logo .main {
  color:#00ffcc;
  font-weight:bold;
  font-size:1.35rem;
  text-shadow:0 0 10px #00fff2, 0 0 5px #00abc1;
}
.crazy-logo .tagline { margin-left:10px; }
.btn {
  background:rgba(0,0,0,0.4);
  border:1px solid rgba(255,255,255,0.25);
  color:#fff;
  padding:6px 12px;
  border-radius:6px;
  cursor:pointer;
}
.btn:hover { background:rgba(0,0,0,0.6); }

/* Sidebar */
.chat-body { display:flex; height:100%; }
.user-sidebar {
  flex:0 0 230px;
  background:rgba(0,0,0,0.55);
  overflow-y:auto;
}
.user-item {
  display:flex;
  align-items:center;
  padding:10px 11px;
  cursor:pointer;
}
.user-item.active, .user-item:hover {
  background:rgba(255,255,255,0.1);
}
.user-avatar {
  width:40px; height:40px;
  border-radius:50%;
  margin-right:8px;
  object-fit:cover;
}
.user-name { flex:1; font-size:0.98em; }
.user-status {
  width:8px; height:8px; border-radius:50%;
}
.status-online { background:#0f0; }
.status-offline { background:#555; }

/* Messages */
.chat-content {
  flex:1;
  display:flex;
  flex-direction:column;
  background:rgba(240,242,245,0.93);
}
.message-container {
  flex:1;
  padding:22px 33px 10px 33px;
  overflow-y:auto;
  display:flex;
  flex-direction:column;
}
.msg-bubble {
  max-width:77%;
  padding:10px 16px;
  border-radius:15px;
  font-size:1em;
}
.from-me {
  background:#d9fdd3; color:#000;
  border-radius:12px 0 12px 12px;
}
.from-them {
  background:#fff; color:#000;
  border-radius:0 12px 12px 12px;
}
.bubble-avatar {
  width:32px; height:32px;
  border-radius:50%;
  object-fit:cover;
  margin:0 8px;
}

/* Settings modal */
.settings-modal {
  position:fixed;
  left:0; top:0; width:100%; height:100%;
  background:rgba(0,0,0,0.4);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:2000;
}
.settings-content {
  background:white;
  padding:20px;
  border-radius:8px;
  width:420px;
  position:relative;
}
.close-btn {
  position:absolute; right:10px; top:5px;
  font-size:1.4rem; cursor:pointer;
}
.settings-avatar {
  width:60px; height:60px;
  border-radius:50%;
  margin-bottom:10px;
  object-fit:cover;
}
.settings-section { margin-bottom:20px; }

/* Form layout */
.settings-row {
  display:flex; align-items:center;
  margin-bottom:14px; gap:10px;
}
.settings-row label {
  flex:0 0 110px;
  color:#0f0;
  font-weight:bold;
  text-align:right;
}
.settings-row input {
  flex:1; padding:8px;
  border-radius:6px;
  border:1px solid rgba(0,255,140,0.3);
  background:rgba(0,0,0,0.06); color:#111;
}

/* Context menu */
.context-menu {
  position:fixed; display:none;
  background:white;
  border:1px solid #ccc;
  border-radius:4px;
  z-index:10000;
}
.context-menu button {
  padding:6px 10px; border:none;
  width:100%; text-align:left;
  background:none; cursor:pointer;
}
.context-menu button:hover { background:#eee; }

/* Chat input */
.chat-input {
  display: flex;
  padding: 10px 12px;
  border-top: 1px solid #ccc;
  background: white;
  align-items: center;
  gap: 10px;
}
.chat-input input {
  flex: 1;
  padding: 10px 12px;
  border: 1px solid #ccc;
  border-radius: 6px;
  font-size: 1em;
}
.btn-send {
  background: #00a884;
  border: none;
  color: white;
  padding: 0 18px;
  border-radius: 6px;
  cursor: pointer;
  font-size: 1.2rem;
}

/* --- Generic media query tweaks --- */
@media (max-width: 700px) {
  .chat-glass { width:100vw; max-width:100vw; height:99vh; border-radius:0; }
  .user-sidebar { flex:0 0 64px; min-width:64px; max-width:64px; font-size:0.9em; padding:0; }
  .user-item { flex-direction:column; padding:7px 3px; align-items:center; }
  .user-avatar { width:32px; height:32px; margin:0 0 4px 0; }
  .user-name { font-size:0.82em; }
  .message-container { padding:10px 6px 7px; }
  .settings-content { width:97vw; padding:13px 5px; }
  .chat-input { padding:7px 3px; gap:5px; }
  .chat-input input { font-size:0.99em; padding:8px 6px; }
  .btn-send { padding:0 11px; font-size:1.08em; }
}

@media (max-width: 440px) {
  .chat-header, .chat-actions {
    flex-direction: column;
    gap: 6px;
    padding: 8px 2vw;
  }
  .crazy-logo .main, .crazy-logo .tagline { font-size:0.98rem; }
  .btn { font-size:0.94em; padding:5px 8px; }
  .settings-content { width:99vw; padding:8px 2vw; }
}

/* --- Forced mobile view when JS adds .mobile-view --- */
body.mobile-view .chat-glass {
  width:100vw !important; height:100vh !important; border-radius:0 !important;
}
body.mobile-view .chat-content { width:100% !important; padding-bottom:62px !important; }
body.mobile-view .message-container { padding:8px !important; min-height:40vh; }
body.mobile-view .chat-input {
  position: fixed; bottom:0; left:0;
  width:100vw; border-top:1px solid #ccc;
  background:white; z-index:3000; min-height:55px;
}
body.mobile-view .btn,
body.mobile-view .btn-send,
body.mobile-view .chat-input input {
  font-size:1.13em; padding:9px 12px;
}

/* --- Hamburger --- */
.hamburger {
  display:none;
  font-size:1.6rem;
  background:transparent;
  border:none;
  color:#0f0;
  cursor:pointer;
  margin-right:10px;
}
body.mobile-view .hamburger { display:inline-block; font-size:2.05rem; line-height:1; }

/* Mobile slide-in sidebar */
body.mobile-view .user-sidebar {
  position: fixed;
  top:0; left:-260px;
  width:230px; height:100%;
  background:rgba(0,0,0,0.9);
  z-index:3000;
  transition:left 0.3s ease;
}
body.mobile-view .user-sidebar.open { left:0; }

/* Mobile header stacking */
@media (max-width: 700px) {
  .chat-header { flex-direction:column; align-items:stretch; gap:6px; padding:10px 2vw 2px; }
  .crazy-logo { flex-wrap:wrap; flex-direction:row; align-items:center; gap:5px; }
  .crazy-logo .main, .crazy-logo .tagline { font-size:1.05rem; }
  .hamburger { align-self:flex-start; margin-bottom:2px; }
  .chat-actions { flex-direction:row; gap:2px; width:100%; justify-content:flex-end; }
  .msg-bubble { font-size:1.05em; padding:13px 11px; }
  .bubble-avatar { width:34px; height:34px; }
}
